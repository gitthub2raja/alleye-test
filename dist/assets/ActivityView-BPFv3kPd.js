import{j as e,r as o,C as i,a as r}from"./index-D0LKihWx.js";const x=l=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",...l,children:e.jsx("path",{d:"M12 2L9 9l-7 1 5 5-2 7 7-4 7 4-2-7 5-5-7-1z"})}),h=({user:l,allContent:a})=>{const c=[{id:"Course Conqueror",name:"Course Conqueror",description:"Complete 5 courses",icon:e.jsx(x,{className:"w-16 h-16 text-yellow-400"})}].filter(s=>{var t;return(t=l.badges)==null?void 0:t.includes(s.id)}),d=o.useMemo(()=>{if(!l.progress||!a)return[];const s=[i.QUIZ,i.VIDEO_QUIZ,i.CYBER_SECURITY_TRAINING];return a.filter(t=>s.includes(t.type)).map(t=>{const n=l.progress[t.id];return(n==null?void 0:n.status)==="completed"&&n.score!==void 0?{id:t.id,title:t.title,score:n.score,passing_score:t.passing_score??70}:null}).filter(t=>t!==null).sort((t,n)=>n.id-t.id)},[l,a]);return e.jsxs("div",{className:"animate-fade-in",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"My Activity"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(r,{className:"lg:col-span-1",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Stats"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-sidebar-accent rounded-lg",children:[e.jsx("span",{className:"font-semibold text-text-main",children:"Points Earned"}),e.jsx("span",{className:"font-bold text-2xl text-highlight",children:l.points||0})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-sidebar-accent rounded-lg",children:[e.jsx("span",{className:"font-semibold text-text-main",children:"Courses Completed"}),e.jsx("span",{className:"font-bold text-2xl text-highlight",children:Object.values(l.progress||{}).filter(s=>s.status==="completed").length})]})]})]}),e.jsxs(r,{className:"lg:col-span-2",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Badges"}),e.jsx("div",{className:"flex flex-wrap gap-6",children:c.length>0?c.map(s=>e.jsxs("div",{className:"text-center",children:[s.icon,e.jsx("p",{className:"font-semibold mt-2",children:s.name}),e.jsx("p",{className:"text-xs text-text-secondary",children:s.description})]},s.id)):e.jsx("p",{className:"text-text-secondary",children:"No badges earned yet. Keep learning to unlock them!"})})]})]}),d.length>0&&e.jsxs(r,{className:"mt-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-6",children:"My Quiz Performance"}),e.jsx("div",{className:"max-h-[25rem] overflow-y-auto space-y-6 pr-4 custom-scrollbar",children:d.map(s=>{const t=s.score>=s.passing_score;return e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center mb-2",children:[e.jsx("p",{className:"font-semibold text-text-main text-sm col-span-12 sm:col-span-7",children:s.title}),e.jsxs("div",{className:"col-span-12 sm:col-span-5 flex items-center justify-between sm:justify-end gap-3 flex-shrink-0",children:[e.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${t?"bg-green-600/30 text-green-300":"bg-red-600/30 text-red-300"}`,children:t?"Passed":"Failed"}),e.jsxs("span",{className:"font-semibold text-text-main w-10 text-right",children:[s.score,"%"]})]})]}),e.jsx("div",{className:"w-full bg-gray-500/30 rounded-full h-2.5",children:e.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${s.score}%`,backgroundColor:t?"#16a34a":"#f59e0b"}})})]},s.id)})})]})]})};export{h as default};
