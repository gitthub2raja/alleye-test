import{r as n,j as c}from"./index-D0LKihWx.js";import{D as se,C as D}from"./CustomTooltip-DlO-oJUW.js";import{n as oe,M as q,U as le,O as G,Q as J,bS as ce,V as de,b as Q,E as U,F as Y,Y as ue,_ as pe,a0 as me,a1 as ve,a2 as X,a3 as ye,aI as xe,f as H,$ as fe,g as he,Z as ee,L as _,a7 as ge,aa as j,bT as be,a8 as K,a9 as W,ab as Ae,ac as Ie,ad as z,ae as Ee,bU as Pe,af as Se,aL as je,bV as Te,i as te,aM as _e,aN as we,k as Ce,j as Oe,bW as ze,aQ as Ke,ah as ae,ai as ie,R as L,T as k}from"./CartesianChart-XZ9oN6o3.js";import{X as N}from"./XAxis-cwaU9eXC.js";import{Y as M}from"./YAxis-Bsetyn0C.js";import{B as De}from"./barSelectors-6VLD7Q4g.js";import{a as F,L as Le}from"./LineChart-DOCE-dDr.js";import{S as $,C as ke,u as Ne,a as Me,b as Re}from"./tooltipContext-Dsaq1-x6.js";import{S as Be}from"./ErrorBarContext-Dcs2wgOg.js";import"./ActivePoints-C5OEKP8z.js";import"./getRadiusAndStrokeWidthFromDot-DGHXVsRS.js";var We=["option","isActive"];function T(){return T=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var i in e)({}).hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},T.apply(null,arguments)}function Fe(t,a){if(t==null)return{};var e,i,r=$e(t,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)e=o[i],a.indexOf(e)===-1&&{}.propertyIsEnumerable.call(t,e)&&(r[e]=t[e])}return r}function $e(t,a){if(t==null)return{};var e={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(a.indexOf(i)!==-1)continue;e[i]=t[i]}return e}function Ve(t){var{option:a,isActive:e}=t,i=Fe(t,We);return typeof a=="string"?n.createElement($,T({option:n.createElement(oe,T({type:a},i)),isActive:e,shapeType:"symbols"},i)):n.createElement($,T({option:a,isActive:e,shapeType:"symbols"},i))}var Ze=(t,a,e,i,r,o,s)=>G(t,"xAxis",a,s),qe=(t,a,e,i,r,o,s)=>J(t,"xAxis",a,s),Ge=(t,a,e,i,r,o,s)=>G(t,"yAxis",e,s),Je=(t,a,e,i,r,o,s)=>J(t,"yAxis",e,s),Qe=(t,a,e,i)=>ce(t,"zAxis",i,!1),Ue=(t,a,e,i,r)=>r,Ye=(t,a,e,i,r,o)=>o,Xe=(t,a,e,i,r,o,s)=>le(t,a,e,s),He=q([de,Ue],(t,a)=>t.filter(e=>e.type==="scatter").find(e=>e.id===a)),et=q([Xe,Ze,qe,Ge,Je,Qe,He,Ye],(t,a,e,i,r,o,s,v)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:f}=t;if(s!=null){var y;if((s==null?void 0:s.data)!=null&&s.data.length>0?y=s.data:y=d==null?void 0:d.slice(u,f+1),!(y==null||a==null||i==null||e==null||r==null||(e==null?void 0:e.length)===0||(r==null?void 0:r.length)===0))return vt({displayedData:y,xAxis:a,yAxis:i,zAxis:o,scatterSettings:s,xAxisTicks:e,yAxisTicks:r,cells:v})}}),tt=["onMouseEnter","onClick","onMouseLeave"],at=["id"],it=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function R(t,a){if(t==null)return{};var e,i,r=rt(t,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)e=o[i],a.indexOf(e)===-1&&{}.propertyIsEnumerable.call(t,e)&&(r[e]=t[e])}return r}function rt(t,a){if(t==null)return{};var e={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(a.indexOf(i)!==-1)continue;e[i]=t[i]}return e}function P(){return P=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var i in e)({}).hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},P.apply(null,arguments)}function V(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function h(t){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?V(Object(e),!0).forEach(function(i){nt(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):V(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}function nt(t,a,e){return(a=st(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function st(t){var a=ot(t,"string");return typeof a=="symbol"?a:a+""}function ot(t,a){if(typeof t!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var i=e.call(t,a);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var lt=t=>{var{dataKey:a,name:e,fill:i,legendType:r,hide:o}=t;return[{inactive:o,dataKey:a,type:r,color:i,value:X(e,a),payload:t}]};function ct(t){var{points:a,props:e}=t,{line:i,lineType:r,lineJointType:o}=e;if(!i)return null;var s=te(e),v=Oe(i),d,u;if(r==="joint")d=a.map(p=>{var l,m;return{x:(l=p.cx)!==null&&l!==void 0?l:null,y:(m=p.cy)!==null&&m!==void 0?m:null}});else if(r==="fitting"){var{xmin:f,xmax:y,a:g,b:A}=ze(a),I=p=>g*p+A;d=[{x:f,y:I(f)},{x:y,y:I(y)}]}var x=h(h(h({},s),{},{fill:"none",stroke:s&&s.fill},v),{},{points:d});return n.isValidElement(i)?u=n.cloneElement(i,x):typeof i=="function"?u=i(x):u=n.createElement(Ke,P({},x,{type:o})),n.createElement(_,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function dt(t){var{showLabels:a,points:e,children:i}=t,r=Pe(),o=n.useMemo(()=>e==null?void 0:e.map(s=>{var v,d,u={x:(v=s.x)!==null&&v!==void 0?v:0,y:(d=s.y)!==null&&d!==void 0?d:0,width:s.width,height:s.height,lowerWidth:s.width,upperWidth:s.width};return h(h({},u),{},{value:void 0,payload:s.payload,viewBox:u,parentViewBox:r,fill:void 0})}),[r,e]);return n.createElement(Se,{value:a?o:void 0},i)}function ut(t){var{points:a,allOtherScatterProps:e}=t,{shape:i,activeShape:r,dataKey:o}=e,s=H(je),{onMouseEnter:v,onClick:d,onMouseLeave:u}=e,f=R(e,tt),y=Ne(v,e.dataKey),g=Me(u),A=Re(d,e.dataKey);if(!Te(a))return null;var{id:I}=e,x=R(e,at),p=te(x);return n.createElement(n.Fragment,null,n.createElement(ct,{points:a,props:x}),a.map((l,m)=>{var b=r!=null&&r!==!1,E=b&&s===String(m),w=b&&E?r:i,S=h(h(h({key:"symbol-".concat(m)},p),l),{},{[we]:m,[_e]:String(o)});return n.createElement(ee,{key:"symbol-".concat(l==null?void 0:l.cx,"-").concat(l==null?void 0:l.cy,"-").concat(l==null?void 0:l.size,"-").concat(m),zIndex:E?U.activeDot:void 0},n.createElement(_,P({className:"recharts-scatter-symbol"},Ce(f,l,m),{onMouseEnter:y(l,m),onMouseLeave:g(l,m),onClick:A(l,m)}),n.createElement(Ve,P({option:w,isActive:E},S))))}))}function pt(t){var{previousPointsRef:a,props:e}=t,{points:i,isAnimationActive:r,animationBegin:o,animationDuration:s,animationEasing:v}=e,d=a.current,u=Ae(e,"recharts-scatter-"),[f,y]=n.useState(!1),g=n.useCallback(()=>{y(!1)},[]),A=n.useCallback(()=>{y(!0)},[]),I=!f;return n.createElement(dt,{showLabels:I,points:i},e.children,n.createElement(Ie,{animationId:u,begin:o,duration:s,isActive:r,easing:v,onAnimationEnd:g,onAnimationStart:A,key:u},x=>{var p=x===1?i:i==null?void 0:i.map((l,m)=>{var b=d&&d[m];return b?h(h({},l),{},{cx:l.cx==null?void 0:z(b.cx,l.cx,x),cy:l.cy==null?void 0:z(b.cy,l.cy,x),size:z(b.size,l.size,x)}):h(h({},l),{},{size:z(0,l.size,x)})});return x>0&&(a.current=p),n.createElement(_,null,n.createElement(ut,{points:p,allOtherScatterProps:e,showLabels:I}))}),n.createElement(Ee,{label:e.label}))}function mt(t){var{dataKey:a,points:e,stroke:i,strokeWidth:r,fill:o,name:s,hide:v,tooltipType:d}=t;return{dataDefinedOnItem:e==null?void 0:e.map(u=>u.tooltipPayload),positions:e==null?void 0:e.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:r,fill:o,nameKey:void 0,dataKey:a,name:X(s,a),hide:v,type:d,color:o,unit:""}}}function vt(t){var{displayedData:a,xAxis:e,yAxis:i,zAxis:r,scatterSettings:o,xAxisTicks:s,yAxisTicks:v,cells:d}=t,u=j(e.dataKey)?o.dataKey:e.dataKey,f=j(i.dataKey)?o.dataKey:i.dataKey,y=r&&r.dataKey,g=r?r.range:be.range,A=g&&g[0],I=e.scale.bandwidth?e.scale.bandwidth():0,x=i.scale.bandwidth?i.scale.bandwidth():0;return a.map((p,l)=>{var m=K(p,u),b=K(p,f),E=!j(y)&&K(p,y)||"-",w=[{name:j(e.dataKey)?o.name:e.name||String(e.dataKey),unit:e.unit||"",value:m,payload:p,dataKey:u,type:o.tooltipType},{name:j(i.dataKey)?o.name:i.name||String(i.dataKey),unit:i.unit||"",value:b,payload:p,dataKey:f,type:o.tooltipType}];E!=="-"&&w.push({name:r.name||r.dataKey,unit:r.unit||"",value:E,payload:p,dataKey:y,type:o.tooltipType});var S=W({axis:e,ticks:s,bandSize:I,entry:p,index:l,dataKey:u}),C=W({axis:i,ticks:v,bandSize:x,entry:p,index:l,dataKey:f}),B=E!=="-"?r.scale(E):A,O=Math.sqrt(Math.max(B,0)/Math.PI);return h(h({},p),{},{cx:S,cy:C,x:S==null?void 0:S-O,y:C==null?void 0:C-O,width:2*O,height:2*O,size:B,node:{x:m,y:b,z:E},tooltipPayload:w,tooltipPosition:{x:S,y:C},payload:p},d&&d[l]&&d[l].props)})}var yt=(t,a,e)=>({x:t.cx,y:t.cy,value:Number(e==="x"?t.node.x:t.node.y),errorVal:K(t,a)});function xt(t){var{hide:a,points:e,className:i,needClip:r,xAxisId:o,yAxisId:s,id:v}=t,d=n.useRef(null);if(a)return null;var u=he("recharts-scatter",i),f=v;return n.createElement(ee,{zIndex:t.zIndex},n.createElement(_,{className:u,clipPath:r?"url(#clipPath-".concat(f,")"):void 0,id:v},r&&n.createElement("defs",null,n.createElement(ge,{clipPathId:f,xAxisId:o,yAxisId:s})),n.createElement(Be,{xAxisId:o,yAxisId:s,data:e,dataPointFormatter:yt,errorBarOffset:0},n.createElement(_,{key:"recharts-scatter-symbols"},n.createElement(pt,{props:t,previousPointsRef:d})))))}var re={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ve.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:U.scatter};function ft(t){var a=Q(t,re),{animationBegin:e,animationDuration:i,animationEasing:r,hide:o,isAnimationActive:s,legendType:v,lineJointType:d,lineType:u,shape:f,xAxisId:y,yAxisId:g,zAxisId:A}=a,I=R(a,it),{needClip:x}=ye(y,g),p=n.useMemo(()=>xe(t.children,ke),[t.children]),l=Y(),m=H(b=>et(b,y,g,A,t.id,p,l));return x==null||m==null?null:n.createElement(n.Fragment,null,n.createElement(fe,{fn:mt,args:h(h({},t),{},{points:m})}),n.createElement(xt,P({},I,{xAxisId:y,yAxisId:g,zAxisId:A,lineType:u,lineJointType:d,legendType:v,shape:f,hide:o,isAnimationActive:s,animationBegin:e,animationDuration:i,animationEasing:r,points:m,needClip:x})))}function ht(t){var a=Q(t,re),e=Y();return n.createElement(ue,{id:a.id,type:"scatter"},i=>n.createElement(n.Fragment,null,n.createElement(pe,{legendPayload:lt(a)}),n.createElement(me,{type:"scatter",id:i,data:a.data,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:a.zAxisId,dataKey:a.dataKey,hide:a.hide,name:a.name,tooltipType:a.tooltipType,isPanorama:e}),n.createElement(ft,P({},a,{id:i}))))}var ne=n.memo(ht);ne.displayName="Scatter";var gt=["item"],bt=n.forwardRef((t,a)=>n.createElement(ae,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:gt,tooltipPayloadSearcher:ie,categoricalChartProps:t,ref:a})),At=["axis"],It=n.forwardRef((t,a)=>n.createElement(ae,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:At,tooltipPayloadSearcher:ie,categoricalChartProps:t,ref:a}));const Et=t=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24",strokeWidth:1.5,stroke:"currentColor",...t,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Z={awarenessROI:[{q:"Q1",cost:50,savings:30},{q:"Q2",cost:55,savings:45},{q:"Q3",cost:60,savings:70},{q:"Q4",cost:65,savings:90}],incidentReduction:[{maturity:65,incidents:12},{maturity:72,incidents:10},{maturity:80,incidents:7},{maturity:88,incidents:4}]},Lt=({data:t,onInsightClick:a})=>c.jsx(se,{title:"ROI & Cultural Trend",subtitle:"Tie awareness to business outcomes",icon:Et,onInsightClick:()=>a("ROI"),children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-full",children:[c.jsxs("div",{className:"h-48",children:[c.jsx("p",{className:"text-sm font-semibold text-text-secondary mb-1",children:"Awareness ROI (in thousands)"}),c.jsx(L,{width:"100%",height:"100%",children:c.jsxs(It,{data:Z.awarenessROI,children:[c.jsx(N,{dataKey:"q",tick:{fill:"var(--text-secondary-color)",fontSize:10}}),c.jsx(M,{tick:{fill:"var(--text-secondary-color)",fontSize:10}}),c.jsx(k,{content:c.jsx(D,{})}),c.jsx(De,{dataKey:"cost",barSize:20,fill:"#ef4444",name:"Cost"}),c.jsx(F,{type:"monotone",dataKey:"savings",stroke:"var(--highlight-color)",name:"Savings"})]})})]}),c.jsxs("div",{className:"h-48",children:[c.jsx("p",{className:"text-sm font-semibold text-text-secondary mb-1",children:"Culture Growth Trend (Avg Score)"}),c.jsx(L,{width:"100%",height:"100%",children:c.jsxs(Le,{data:t.roi.cultureGrowth,children:[c.jsx(N,{dataKey:"q",tick:{fill:"var(--text-secondary-color)",fontSize:10}}),c.jsx(M,{tick:{fill:"var(--text-secondary-color)",fontSize:10}}),c.jsx(k,{content:c.jsx(D,{})}),c.jsx(F,{type:"monotone",dataKey:"score",stroke:"#3b82f6",name:"Avg Score %"})]})})]}),c.jsxs("div",{className:"h-48",children:[c.jsx("p",{className:"text-sm font-semibold text-text-secondary mb-1",children:"Incident Reduction Correlation"}),c.jsx(L,{width:"100%",height:"100%",children:c.jsxs(bt,{children:[c.jsx(N,{type:"number",dataKey:"maturity",name:"Maturity",unit:"%",tick:{fill:"var(--text-secondary-color)",fontSize:10}}),c.jsx(M,{type:"number",dataKey:"incidents",name:"Incidents",tick:{fill:"var(--text-secondary-color)",fontSize:10}}),c.jsx(k,{cursor:{strokeDasharray:"3 3"},content:c.jsx(D,{})}),c.jsx(ne,{name:"Correlation",data:Z.incidentReduction,fill:"#f97316"})]})})]})]})});export{Lt as default};
